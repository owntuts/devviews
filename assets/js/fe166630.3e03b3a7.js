"use strict";(self.webpackChunkinterviewdev=self.webpackChunkinterviewdev||[]).push([[4626],{3905:function(e,t,n){n.d(t,{Zo:function(){return p},kt:function(){return h}});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),u=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=u(e.components);return a.createElement(l.Provider,{value:t},e.children)},m="mdxType",c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),m=u(n),d=r,h=m["".concat(l,".").concat(d)]||m[d]||c[d]||o;return n?a.createElement(h,s(s({ref:t},p),{},{components:n})):a.createElement(h,s({ref:t},p))}));function h(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=d;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[m]="string"==typeof e?e:r,s[1]=i;for(var u=2;u<o;u++)s[u]=n[u];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},54312:function(e,t,n){n.d(t,{ZP:function(){return i}});var a=n(83117),r=(n(67294),n(3905));const o={toc:[]},s="wrapper";function i(e){let{components:t,...n}=e;return(0,r.kt)(s,(0,a.Z)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("div",{className:"interview"},n.level&&(0,r.kt)("span",{className:"level"},n.level),n.children))}i.isMDXComponent=!0},92476:function(e,t,n){n.r(t),n.d(t,{assets:function(){return m},contentTitle:function(){return u},default:function(){return f},frontMatter:function(){return l},metadata:function(){return p},toc:function(){return c}});var a=n(83117),r=(n(67294),n(3905));n(54312);const o={toc:[]},s="wrapper";function i(e){let{components:t,...n}=e;return(0,r.kt)(s,(0,a.Z)({},o,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("details",{open:!0},(0,r.kt)("summary",null,(0,r.kt)("h5",null,"React 18 New Features")),(0,r.kt)("p",null,"React 18 was released in March 2022, and it includes a number of new features and improvements. Some of the most notable new features include:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Concurrent rendering:")," Concurrent rendering allows React to ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"render multiple components at the same time")),", even if they are not related to each other. This can improve performance, especially on devices with slower processors. For example, if a user is scrolling through a list of items, React can render the items that are currently visible and the items that are about to be visible, even if the data for those items is not yet available. This can help to prevent the user from seeing blank screens while data is loading."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Automatic batching:")," Automatic batching ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"groups together state updates and renders them all at once")),". This can also improve performance, as it reduces the number of times React has to re-render the entire application. For example, if a user changes the value of a single input field, ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"React will only have to re-render the components that are affected by that change")),". This can help to improve performance, especially on devices with slower processors."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Suspense:")," Suspense allows React to ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"load data asynchronously"))," and render components only when the data is available. This can improve performance and user experience, as it prevents users from seeing blank screens while data is loading. For example, if a user clicks on a link to a page that contains a lot of data, React can start ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"loading the data in the background"))," while the user continues to interact with the current page. This can help to improve the user experience, as the user does not have to wait for the entire page to load before they can start using it."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Transitions"),": This is a new API that ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"lets you tell React which updates are urgent"))," and which can be delayed. Transitions help keep your app responsive by ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("em",{parentName:"strong"},"avoiding blocking the main thread with long-running renders")),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"New root API:")," There are also some new APIs and hooks in React 18, such as ",(0,r.kt)("inlineCode",{parentName:"li"},"createRoot"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"hydrateRoot"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"renderToPipeableStream"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"renderToReadableStream"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"useId"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"useTransition"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"useDeferredValue"),", ",(0,r.kt)("inlineCode",{parentName:"li"},"useSyncExternalStore"),", and ",(0,r.kt)("inlineCode",{parentName:"li"},"useInsertionEffect"),". Some of these are experimental and may change in the future. Additionally, React 18 no longer supports IE11 and discourages the use of ReactDOM.render and renderToString."))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("h5",null,"useTransition")),(0,r.kt)("p",null,"Here is a simple example of using ",(0,r.kt)("inlineCode",{parentName:"p"},"useTransition")," to update a list of items based on a search input:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},'import { useState } from "react";\nimport { useTransition } from "react";\n\nfunction App() {\n  // State for the input value\n  const [inputValue, setInputValue] = useState("");\n\n  // State for the list of items\n  const [items, setItems] = useState([]);\n\n  // A function that fetches items based on a query\n  async function fetchItems(query) {\n    // Simulate a network delay\n    await new Promise((resolve) => setTimeout(resolve, 1000));\n    // Return some mock data\n    return ["apple", "banana", "carrot", "date", "eggplant"].filter((item) =>\n      item.startsWith(query.toLowerCase())\n    );\n  }\n\n  // A function that handles input change\n  function handleChange(event) {\n    const value = event.target.value;\n    // Update the input value state\n    setInputValue(value);\n    // Start a transition to update the items state\n    startTransition(() => {\n      // Fetch items based on the input value\n      fetchItems(value).then((data) => {\n        // Update the items state with the fetched data\n        setItems(data);\n      });\n    });\n  }\n\n  // Get the isPending flag and the startTransition function from useTransition\n  const [isPending, startTransition] = useTransition();\n\n  return (\n    <div className="App">\n      <h1>useTransition Example</h1>\n      <input type="text" value={inputValue} onChange={handleChange} />\n      {isPending && <p>Loading...</p>}\n      <ul>\n        {items.map((item) => (\n          <li key={item}>{item}</li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default App;\n')),(0,r.kt)("p",null,"In this example, the input value state is updated immediately as the user types, while the items state is updated asynchronously with a delay. The ",(0,r.kt)("inlineCode",{parentName:"p"},"useTransition")," hook returns an ",(0,r.kt)("inlineCode",{parentName:"p"},"isPending")," flag that tells you whether there is a pending transition and a ",(0,r.kt)("inlineCode",{parentName:"p"},"startTransition")," function that lets you mark a state update as a transition. The ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},(0,r.kt)("inlineCode",{parentName:"em"},"startTransition")," function tells React that the items state update is not urgent and can be deferred"))," until the input value state update is done. This way, the user can see the letters as they type without waiting for the items to load. The ",(0,r.kt)("inlineCode",{parentName:"p"},"isPending")," flag can be used to display a loading indicator while the transition is in progress."),(0,r.kt)("p",null,"You can try this example on CodeSandbox: ",(0,r.kt)("a",{parentName:"p",href:"https://codesandbox.io/s/usetransition-example-8xk4g"},"https://codesandbox.io/s/usetransition-example-8xk4g"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("h5",null,"renderToPipeableStream")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"renderToPipeableStream")," is a new API in React 18 that renders a React element to its initial HTML and returns a Node.js stream with a ",(0,r.kt)("inlineCode",{parentName:"p"},"pipe")," method to pipe the output and an ",(0,r.kt)("inlineCode",{parentName:"p"},"abort")," method to abort the request. This API enables streaming server-side rendering with built-in support for Suspense and concurrent features."),(0,r.kt)("p",null,"Here is a simple example of using ",(0,r.kt)("inlineCode",{parentName:"p"},"renderToPipeableStream")," to render a React component on the server and send it to the client as a stream:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// Import React and ReactDOMServer\nimport React from "react";\nimport { renderToPipeableStream } from "react-dom/server";\n\n// A component that displays a message\nfunction Message() {\n  return <div>Hello, world!</div>;\n}\n\n// A function that handles an HTTP request\nfunction handleRequest(request, response) {\n  // Render the Message component to a stream\n  const { pipe, abort } = renderToPipeableStream(<Message />);\n  // Set the content type header\n  response.setHeader("Content-Type", "text/html");\n  // Pipe the stream to the response\n  pipe(response);\n  // Handle errors or aborts\n  request.on("error", abort);\n  request.on("close", abort);\n}\n')),(0,r.kt)("p",null,"In this example, the ",(0,r.kt)("inlineCode",{parentName:"p"},"handleRequest")," function renders the ",(0,r.kt)("inlineCode",{parentName:"p"},"Message")," component to a stream using ",(0,r.kt)("inlineCode",{parentName:"p"},"renderToPipeableStream")," and pipes it to the response. The ",(0,r.kt)("inlineCode",{parentName:"p"},"renderToPipeableStream")," function returns an object with a ",(0,r.kt)("inlineCode",{parentName:"p"},"pipe")," method and an ",(0,r.kt)("inlineCode",{parentName:"p"},"abort")," method. The ",(0,r.kt)("inlineCode",{parentName:"p"},"pipe")," method takes a Node.js writable stream as an argument and writes the HTML output to it. The ",(0,r.kt)("inlineCode",{parentName:"p"},"abort")," method cancels the rendering and closes the stream. The function also handles errors or aborts by listening to the request events."),(0,r.kt)("p",null,"You can try this example on Replit: ",(0,r.kt)("a",{parentName:"p",href:"https://replit.com/@heyitsarpit/renderToPipeableStream-example"},"https://replit.com/@heyitsarpit/renderToPipeableStream-example"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("h5",null,"renderToReadableStream")),"`renderToReadableStream` is a new API in React 18 that renders a React element to its initial HTML and returns a Readable Web Stream. This API enables streaming server-side rendering with built-in support for Suspense and concurrent features in environments that support Web Streams, such as Deno or modern edge runtimes.",(0,r.kt)("p",null,"Here is a simple example of using ",(0,r.kt)("inlineCode",{parentName:"p"},"renderToReadableStream")," to render a React component on the server and send it to the client as a stream:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// Import React and ReactDOMServer\nimport React from "react";\nimport { renderToReadableStream } from "react-dom/server";\n\n// A component that displays a message\nfunction Message() {\n  return <div>Hello, world!</div>;\n}\n\n// A function that handles an HTTP request\nasync function handleRequest(request) {\n  // Render the Message component to a stream\n  const stream = await renderToReadableStream(<Message />, {\n    bootstrapScripts: ["/main.js"],\n  });\n  // Return a response with the stream\n  return new Response(stream, {\n    headers: { "Content-Type": "text/html" },\n  });\n}\n')),(0,r.kt)("p",null,"In this example, the ",(0,r.kt)("inlineCode",{parentName:"p"},"handleRequest")," function renders the ",(0,r.kt)("inlineCode",{parentName:"p"},"Message")," component to a stream using ",(0,r.kt)("inlineCode",{parentName:"p"},"renderToReadableStream")," and returns a response with the stream. The ",(0,r.kt)("inlineCode",{parentName:"p"},"renderToReadableStream")," function takes a React element and an optional options object as arguments and returns a promise that resolves to a Readable Web Stream. The options object can specify various streaming options, such as bootstrap scripts, identifier prefix, namespace URI, nonce, error handler, progressive chunk size, and abort signal."),(0,r.kt)("p",null,"You can try this example on Replit: ",(0,r.kt)("a",{parentName:"p",href:"https://replit.com/@heyitsarpit/renderToReadableStream-example"},"https://replit.com/@heyitsarpit/renderToReadableStream-example"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("h5",null,"useDeferredValue")),(0,r.kt)("p",null,"useDeferredValue is a React Hook that ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"lets you defer updating a part of the UI")),". It is useful for situations where you ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"want to show stale content while fresh content is loading")),", or when you want to ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"defer re-rendering for a part of the UI that is computationally expensive")),". For example, you can use useDeferredValue to create a natural debouncing effect for a search input and a result list."),(0,r.kt)("p",null,"For example, you can use it to ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"filter a large list of items"))," and display the results. The filtering operation will be performed in the background and will not block the main thread. This way, the input field will remain responsive and reflect what the user types immediately, while the result list will update with a slight delay."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useState, useDeferredValue } from 'react';\n\nfunction SearchPage() {\n  const [query, setQuery] = useState('');\n  // useDeferredValue marks the query is less urgent\n  // This value will be updated less frequently than query\n  const deferredQuery = useDeferredValue(query); \n  \n  const list = useMemo(() => {\n    // Filter through a large list using deferredQuery\n    return largeList.filter(item => item.name.includes(deferredQuery));\n  }, [deferredQuery]);\n\n  const handleChange = event => {\n    setQuery(event.target.value);\n  };\n\n  return (\n    <>\n      <input type=\"text\" value={query} onChange={handleChange} placeholder=\"Search\" />\n      {list.map(item => (\n        <SearchResultItem key={item.id} item={item} />\n      ))}\n    </>\n  );\n}\n")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"useDeferredValue")," is like ",(0,r.kt)("inlineCode",{parentName:"p"},"debounce"),". However, there is one major difference between the two techniques. In React 18, ",(0,r.kt)("inlineCode",{parentName:"p"},"useDeferredValue")," will only ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"make a value \u201clag behind\u201d"))," if the rendering takes a while."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"If you use ",(0,r.kt)("inlineCode",{parentName:"p"},"debounce"),", you will set a ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"fixed delay"))," (for example, 500 milliseconds) before updating the result list.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"If you use ",(0,r.kt)("inlineCode",{parentName:"p"},"useDeferredValue"),", if the user types something in the input and the computer takes a long time to render the result list, React will ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"defer updating the result list until it finishes rendering other parts of the UI"))," that are more urgent. This way, you can avoid blocking the main thread or causing visual glitches.")))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("h5",null,"useSyncExternalStore")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"useSyncExternalStore")," is a React Hook that lets you ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"subscribe to an external store")),". An external store is something that you can subscribe to, such as ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"Redux store, Zustand store, global variables, module scope variables, DOM state")),", etc. It is different from internal stores, such as props, context, useState, useReducer, which are managed by React."),(0,r.kt)("p",null,"useSyncExternalStore is useful for situations where you ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"want to read some data from an external store and update your component when the store changes")),". It also works well with concurrent rendering, which is a new feature in React 18 that lets you render your UI in a non-blocking way. useSyncExternalStore ensures that your component will not show inconsistent or stale data when using concurrent rendering."),(0,r.kt)("p",null,"Here is an example of how to use useSyncExternalStore with a Redux store:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useSyncExternalStore } from 'react';\nimport { useSelector } from 'react-redux';\n\nfunction Counter() {\n  // Subscribe to Redux store and get current state\n  const state = useSyncExternalStore(\n    // Subscribe function\n    (callback) => {\n      const unsubscribe = useSelector.subscribe(callback);\n      return unsubscribe;\n    },\n    // Get snapshot function\n    () => useSelector.getState()\n  );\n\n  // Get counter value from state\n  const counter = state.counter;\n\n  return <div>Counter: {counter}</div>;\n}\n"))),(0,r.kt)("details",null,(0,r.kt)("summary",null,(0,r.kt)("h5",null,"useInsertionEffect")),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"useInsertionEffect")," is a new React Hook that was introduced in React 18. It is ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"similar to ",(0,r.kt)("inlineCode",{parentName:"em"},"useLayoutEffect"),", but it fires synchronously before all DOM mutations")),". This means that it is ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"executed before ",(0,r.kt)("inlineCode",{parentName:"em"},"useLayoutEffect")))," and before the browser paints the screen."),(0,r.kt)("p",null,"The use case for ",(0,r.kt)("inlineCode",{parentName:"p"},"useInsertionEffect")," is ",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"to inject styles into the DOM before reading layout")),". This is useful for CSS-in-JS libraries, such as styled-components, that need to insert ",(0,r.kt)("inlineCode",{parentName:"p"},"<style>")," tags or other global DOM nodes before the browser calculates the layout. By using useInsertionEffect, these libraries can avoid layout thrashing and improve performance."),(0,r.kt)("p",null,"Here is an example of how to use ",(0,r.kt)("inlineCode",{parentName:"p"},"useInsertionEffect")," to inject a ",(0,r.kt)("inlineCode",{parentName:"p"},"<style>")," tag into the DOM:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useInsertionEffect } from 'react';\n\nfunction MyComponent() {\n  // Create a style element\n  const style = document.createElement('style');\n  // Set the CSS content\n  style.textContent = `\n    .my-class {\n      color: red;\n    }\n  `;\n\n  // Use insertion effect to insert the style element into the head\n  useInsertionEffect(() => {\n    document.head.appendChild(style);\n    // Return a cleanup function to remove the style element\n    return () => {\n      document.head.removeChild(style);\n    };\n  }, []);\n\n  return <div className=\"my-class\">Hello</div>;\n}\n"))))}i.isMDXComponent=!0;const l={sidebar_position:3,id:"react-zero-hero",sidebar_label:"React Zero To Hero",title:"React Zero To Hero"},u="React Zero To Hero",p={unversionedId:"js/react-zero-hero",id:"js/react-zero-hero",title:"React Zero To Hero",description:"Here, we discuss about Angular Interview Questions & Answers!",source:"@site/docs/js/react.md",sourceDirName:"js",slug:"/js/react-zero-hero",permalink:"/devviews/interviews/js/react-zero-hero",draft:!1,editUrl:"https://github.com/owntuts/devviews/edit/main/docs/js/react.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,id:"react-zero-hero",sidebar_label:"React Zero To Hero",title:"React Zero To Hero"},sidebar:"jsInterviewSidebar",previous:{title:"Javascript",permalink:"/devviews/interviews/js/intro"},next:{title:"JIT vs AOT",permalink:"/devviews/interviews/differences-jit-aot-angular"}},m={},c=[{value:"React18",id:"react18",level:3}],d={toc:c},h="wrapper";function f(e){let{components:t,...n}=e;return(0,r.kt)(h,(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"react-zero-to-hero"},"React Zero To Hero"),(0,r.kt)("p",null,"Here, we discuss about Angular Interview Questions & Answers!"),(0,r.kt)("h2",{id:""}),(0,r.kt)("h3",{id:"react18"},"React18"),(0,r.kt)(i,{mdxType:"React18"}))}f.isMDXComponent=!0}}]);