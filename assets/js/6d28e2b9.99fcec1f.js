"use strict";(self.webpackChunkinterviewdev=self.webpackChunkinterviewdev||[]).push([[6739],{3905:function(e,n,t){t.d(n,{Zo:function(){return u},kt:function(){return g}});var a=t(67294);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function r(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,a,o=function(e,n){if(null==e)return{};var t,a,o={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s=a.createContext({}),p=function(e){var n=a.useContext(s),t=n;return e&&(t="function"==typeof e?e(n):r(r({},n),e)),t},u=function(e){var n=p(e.components);return a.createElement(s.Provider,{value:n},e.children)},m="mdxType",d={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},c=a.forwardRef((function(e,n){var t=e.components,o=e.mdxType,i=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),m=p(t),c=o,g=m["".concat(s,".").concat(c)]||m[c]||d[c]||i;return t?a.createElement(g,r(r({ref:n},u),{},{components:t})):a.createElement(g,r({ref:n},u))}));function g(e,n){var t=arguments,o=n&&n.mdxType;if("string"==typeof e||o){var i=t.length,r=new Array(i);r[0]=c;var l={};for(var s in n)hasOwnProperty.call(n,s)&&(l[s]=n[s]);l.originalType=e,l[m]="string"==typeof e?e:o,r[1]=l;for(var p=2;p<i;p++)r[p]=t[p];return a.createElement.apply(null,r)}return a.createElement.apply(null,t)}c.displayName="MDXCreateElement"},68542:function(e,n,t){t.r(n),t.d(n,{assets:function(){return s},contentTitle:function(){return r},default:function(){return d},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return p}});var a=t(83117),o=(t(67294),t(3905));const i={sidebar_position:1e3,sidebar_label:"Springboot Functional Models",title:"Springboot Functional Models",tags:["Springboot Knowledge"]},r=void 0,l={unversionedId:"java/springboot/functional-model",id:"java/springboot/functional-model",title:"Springboot Functional Models",description:"Springboot Functional interaction Models",source:"@site/docs/java/springboot/functional-model.md",sourceDirName:"java/springboot",slug:"/java/springboot/functional-model",permalink:"/devviews/interviews/java/springboot/functional-model",draft:!1,editUrl:"https://github.com/owntuts/devviews/edit/main/docs/java/springboot/functional-model.md",tags:[{label:"Springboot Knowledge",permalink:"/devviews/interviews/tags/springboot-knowledge"}],version:"current",sidebarPosition:1e3,frontMatter:{sidebar_position:1e3,sidebar_label:"Springboot Functional Models",title:"Springboot Functional Models",tags:["Springboot Knowledge"]},sidebar:"javaInterviewSidebar",previous:{title:"Springboot Architecture",permalink:"/devviews/interviews/java/springboot/DI"},next:{title:"Springboot Architecture",permalink:"/devviews/interviews/java/springboot/how-springboot-works"}},s={},p=[],u={toc:p},m="wrapper";function d(e){let{components:n,...i}=e;return(0,o.kt)(m,(0,a.Z)({},u,i,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("details",{open:!0},(0,o.kt)("summary",null,(0,o.kt)("h5",null,"Springboot Functional interaction Models")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Springboot Functional Models",src:t(58967).Z,width:"2502",height:"1648"}))),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h5",null,"Common annotations for configuration")),(0,o.kt)("p",null,"Some of the common annotations for configuration in Spring Boot are:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@SpringBootApplication"),": This annotation is used on the main class of a Spring Boot application to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"enable auto-configuration, component scanning, and configuration properties"))," support. It is equivalent to using ",(0,o.kt)("inlineCode",{parentName:"li"},"@Configuration"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"@EnableAutoConfiguration"),", and ",(0,o.kt)("inlineCode",{parentName:"li"},"@ComponentScan")," with their default attributes."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@EnableAutoConfiguration"),": This annotation is used on a configuration class to enable auto-configuration of the Spring Application Context, attempting to guess and configure beans that you are likely to need. It works by ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"scanning the classpath for certain classes or properties and creating beans accordingly")),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@Configuration"),": This annotation is used on a class to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"indicate that this class is a configuration class"))," which is a source of bean definitions. It ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"allows us to use ",(0,o.kt)("inlineCode",{parentName:"em"},"@Bean")," annotation to define beans manually and use ",(0,o.kt)("inlineCode",{parentName:"em"},"@ComponentScan")))," annotation to specify the base packages for component scanning.")),(0,o.kt)("p",null,"Here are some examples of using these annotations in Java Spring Boot:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'// This is the main class, bootstrap Application here\n@SpringBootApplication\npublic class MyApp {\n    public static void main(String[] args) {\n        SpringApplication.run(MyApp.class, args);\n    }\n}\n\n// Define a configuration class and use @EnableAutoConfiguration\n@Configuration\n@EnableAutoConfiguration\npublic class MyConfig {\n    // ...\n}\n\n// Define another configuration class and use @Configuration and @ComponentScan\n@Configuration\n@ComponentScan("com.example")\npublic class MyOtherConfig {\n    // ...\n}\n\n// Define a bean manually and use @Bean\n@Configuration\npublic class MyThirdConfig {\n    @Bean\n    public MyService myService() {\n        return new MyService();\n    }\n}\n')),(0,o.kt)("p",null,"In these examples, we have four configuration classes that use different annotations for configuration in Spring Boot. We also have a main class that uses @SpringBootApplication to launch the application.")),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h5",null,"Anotations for request response")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@RequestMapping")," is a Spring annotation that is used to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"map web requests to handler methods of MVC and REST controllers")),". It can be applied to both class-level and method-level in a controller. You can specify the request path, method, parameters, headers, and media types that are supported by the handler method using @RequestMapping. Here is an example of how to use @RequestMapping at method-level:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@RequestMapping(value = "/ex/foos", method = RequestMethod.GET)\n@ResponseBody\npublic String getFoosBySimplePath() {\n    return "Get some Foos";\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@RestController")," is used to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"mark a class as a controller"))," that can handle RESTful requests. It is a combination of @Controller and @ResponseBody annotations, which means that the return value of the handler methods are automatically converted to JSON or XML and written to the response body. Here is an example of how to use @RestController:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@RestController\n@RequestMapping("/users")\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n    @GetMapping("/{id}")\n    public User getUserById(@PathVariable Long id) {\n        return userService.getUserById(id);\n    }\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@RequestBody"),": This annotation is used to map the HTTP request body to a Java object. It can be used as a parameter annotation in controller methods to automatically deserialize the JSON or XML payload into a Java object. For example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@PostMapping("/employees")\npublic ResponseEntity<EmployeeDTO> createEmployee(@RequestBody EmployeeRequest employeeRequest) {\n    // ...\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@ResponseBody"),": This annotation is used to indicate that the return value of a controller method should be serialized into JSON or XML and written into the HTTP response body. It can be used as a method annotation or a class annotation for controllers. For example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@GetMapping("/employees/{id}")\n@ResponseBody\npublic EmployeeDTO getEmployee(@PathVariable Long id) {\n    // ...\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@PathVariable"),": This annotation is used to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"extract a part of the URL"))," as a method parameter. It can be used in controller methods to bind a variable name in the URI template to a method parameter. For example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@GetMapping("/employees/{id}")\npublic ResponseEntity<EmployeeDTO> getEmployee(@PathVariable Long id) {\n    // ...\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@RequestParam"),": This annotation is used to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"extract query parameters or form parameters from the request")),". It can be used in controller methods to bind a request parameter name to a method parameter. For example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@GetMapping("/employees")\npublic ResponseEntity<List<EmployeeDTO>> getEmployees(@RequestParam String name) {\n    // ...\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@RequestHeader"),": This annotation is used to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"extract header values from the request")),". It can be used in controller methods to bind a header name to a method parameter. For example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@PostMapping("/employees")\npublic ResponseEntity<EmployeeDTO> createEmployee(@RequestHeader("Authorization") String token, @RequestBody EmployeeRequest employeeRequest) {\n    // ...\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@CookieValue"),": This annotation is used to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"extract cookie values from the request")),". It can be used in controller methods to bind a cookie name to a method parameter. For example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@GetMapping("/employees")\npublic ResponseEntity<List<EmployeeDTO>> getEmployees(@CookieValue("JSESSIONID") String sessionId) {\n    // ...\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@ModelAttribute"),": This annotation is used to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"bind request parameters to an object")),". It can be used as a parameter annotation or a method annotation in controller classes. For example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@PostMapping("/employees")\npublic String createEmployee(@ModelAttribute Employee employee, Model model) {\n    // ...\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@Valid"),": This annotation is used to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"validate an object annotated with JSR-303 constraints")),". It can be used in controller methods to trigger the validation of a method parameter or a return value. For example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@PostMapping("/employees")\npublic ResponseEntity<EmployeeDTO> createEmployee(@Valid @RequestBody EmployeeRequest employeeRequest) {\n    // ...\n}\n'))),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h5",null,"Anotations for validation")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@NotNull"),": to check that a field is not null"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@NotEmpty"),": to check that a collection field is not empty"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@NotBlank"),": to check that a string field is not blank"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@Min")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"@Max"),": to check that a numeric field is within a range"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@Pattern"),": to check that a string field matches a regular expression"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"@Email"),": to check that a string field is a valid email address")),(0,o.kt)("p",null,"These annotations can be used on fields, getters, or constructors of a bean class. For example:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'public class User {\n\n    @Email(message = "{user.email.invalid}")\n    private String email;\n\n    @NotBlank(message = "{user.name.blank}")\n    private String name;\n\n    // getters and setters\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"To enable validation in Spring Boot, you need to add the spring-boot-starter-validation dependency to your project. You can also use the @Validated and @Valid annotations to trigger validation on method parameters or return values. For example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@RestController\n@RequestMapping("/users")\npublic class UserController {\n\n    @PostMapping\n    public ResponseEntity<User> createUser(@Valid @RequestBody User user) {\n        // save user and return response\n    }\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"How to create custom validation annotations: You can create your own validation annotations by defining an annotation interface with the ",(0,o.kt)("inlineCode",{parentName:"li"},"@Constraint")," annotation and a validator class that implements the ConstraintValidator interface. For example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@Target({ElementType.FIELD}) // used to annotate fields only\n@Retention(RetentionPolicy.RUNTIME) // retained during runtime and can be accessed by reflection\n@Constraint(validatedBy = UniqueEmailValidator.class)\npublic @interface UniqueEmail {\n\n    String message() default "Email already exists";\n\n    Class<?>[] groups() default {};\n\n    Class<? extends Payload>[] payload() default {};\n}\n\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"public class UniqueEmailValidator implements ConstraintValidator<UniqueEmail, String> {\n\n    @Autowired\n    private UserRepository userRepository;\n\n    @Override\n    public boolean isValid(String email, ConstraintValidatorContext context) {\n        return email != null && !userRepository.existsByEmail(email);\n    }\n}\n\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"How to validate nested objects or collections: You can use the @Valid annotation on nested objects or collections to cascade the validation to their fields. For example:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"public class Order {\n\n    @NotNull\n    private User user;\n\n    @NotEmpty\n    @Valid\n    private List<Item> items;\n\n    // getters and setters\n}\n"))),(0,o.kt)("details",null,(0,o.kt)("summary",null,(0,o.kt)("h5",null,"Anotations for spring data")),(0,o.kt)("p",null,"Here are some examples of using Spring Data Annotations in different scenarios:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"To ",(0,o.kt)("strong",{parentName:"li"},"create a custom query")," with a named parameter, you can use @Query and @Param annotations on a repository method. For example, to find a person by name using JPA, you can write:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},'@Repository\ninterface PersonRepository extends JpaRepository<Person, Long> {\n\n  @Query("FROM Person p WHERE p.name = :name")\n  Person findByName(@Param("name") String name);\n}\n')),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"To ",(0,o.kt)("strong",{parentName:"li"},"create a base repository that provides common methods for all entities"),", you can use @NoRepositoryBean annotation on an interface that extends CrudRepository. For example, to ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"create a base repository that provides a findById method for all entities using JPA")),", you can write:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"@NoRepositoryBean\ninterface MyUtilityRepository<T, ID extends Serializable> extends CrudRepository<T, ID> {\n\n  Optional<T> findById(ID id);\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"To ",(0,o.kt)("strong",{parentName:"li"},"mark a field in an entity class as the primary key"),", you can use ",(0,o.kt)("inlineCode",{parentName:"li"},"@Id")," annotation. For example, to mark the id field as the primary key for a person entity using JPA, you can write:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"@Entity\nclass Person {\n\n  @Id\n  Long id;\n\n  // other fields and methods\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"To ",(0,o.kt)("strong",{parentName:"li"},"mark a field in an entity class as transient"),", meaning that it will ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"not be persisted or retrieved by the data store engine")),", you can use",(0,o.kt)("inlineCode",{parentName:"li"}," @Transient")," annotation. For example, to mark the age field as transient for a person entity using JPA, you can write:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"@Entity\nclass Person {\n\n  // other fields and methods\n\n  @Transient\n  int age;\n}\n")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"To enable auditing of an entity class"),", meaning that it will ",(0,o.kt)("strong",{parentName:"li"},(0,o.kt)("em",{parentName:"strong"},"automatically record who created or modified the entity"))," and when, you can use ",(0,o.kt)("inlineCode",{parentName:"li"},"@CreatedBy"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"@LastModifiedBy"),", ",(0,o.kt)("inlineCode",{parentName:"li"},"@CreatedDate"),", and ",(0,o.kt)("inlineCode",{parentName:"li"},"@LastModifiedDate")," annotations. For example, to enable auditing for a person entity using JPA, you can write:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-java"},"@Entity\n@EntityListeners(AuditingEntityListener.class)\nclass Person {\n\n  // other fields and methods\n\n  @CreatedBy\n  String createdBy;\n\n  @LastModifiedBy\n  String lastModifiedBy;\n\n  @CreatedDate\n  LocalDateTime createdDate;\n\n  @LastModifiedDate\n  LocalDateTime lastModifiedDate;\n}\n"))))}d.isMDXComponent=!0},58967:function(e,n,t){n.Z=t.p+"assets/images/functional_model-8f91d08c590cddbea5ecb07eff056135.png"}}]);